$(function(){var a=$(".product-list-filter-row [data-trigger='set-url-param']"),e=new Uri(location.href);a.each(function(){var a=$(this),r=a.data("key"),n=a.data("value");n&&e.getQueryParamValue(r)==n&&a.attr("data-value","").addClass("selected").append("<i class='fa fa-remove'></i>")})}),$(function(){var a=$(".product-filter-by-price-and-order"),e=a.find(".price-lower-bound"),r=a.find(".price-upper-bound"),n=a.find(".price-filter"),t=new Uri(location.href),i=t.getQueryParamValue("price_range"),o=(i||"0~0").split("~");e.val(o[0]||0),r.val(o[1]||0),i&&(n.addClass("selected"),a.find(".price-filter-cancel").removeClass("hide"));var l=function(){var a=parseFloat(e.val())||0,t=parseFloat(r.val())||0;n.attr("data-value",a+"~"+t)};e.on("change",l),r.on("change",l),l();var c=function(a){13==a.keyCode&&(l(),n.click())};e.on("keydown",c),r.on("keydown",c)}),$(function(){var a=$(".product-search-bar"),e=a.find(".keyword"),r=new Uri(location.href);e.val(r.getQueryParamValue("keyword")),a.find("form").on("submit",function(){return _.each($(this).serializeArray(),function(a){r.replaceQueryParam(a.name,a.value)}),location.href=r.path()+r.query(),!1})});