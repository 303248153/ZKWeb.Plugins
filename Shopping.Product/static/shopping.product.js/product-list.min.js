$(function(){var e=$(".product-list-filter-row [data-trigger='set-url-param']"),a=new Uri(location.href);e.each(function(){var e=$(this),r=e.data("key"),n=e.data("value");n&&a.getQueryParamValue(r)==n&&e.attr("data-value","").addClass("selected").append("<i class='fa fa-remove'></i>")})}),$(function(){var e=$(".product-filter-by-price-and-order"),a=e.find(".price-lower-bound"),r=e.find(".price-upper-bound"),n=e.find(".price-filter"),t=new Uri(location.href),i=t.getQueryParamValue("price_range"),o=(i||"0~0").split("~");a.val(o[0]||0),r.val(o[1]||0),i&&(n.addClass("selected"),e.find(".price-filter-cancel").removeClass("hide"));var l=function(){var e=parseFloat(a.val())||0,t=parseFloat(r.val())||0;n.attr("data-value",e+"~"+t)};a.on("change",l),r.on("change",l),l();var c=function(e){13==e.keyCode&&(l(),n.click())};a.on("keydown",c),r.on("keydown",c)}),$(function(){var e=$(".product-search-bar"),a=e.find(".keyword"),r=new Uri(location.href);a.val(r.getQueryParamValue("keyword")),e.find("form").on("submit",function(){return _.each($(this).serializeArray(),function(e){r.replaceQueryParam(e.name,e.value)}),r.deleteQueryParam("page"),location.href=r.path()+r.query(),!1})});