$(function(){var e=$(".testing-table-container"),t=e.find("table");t.on("click","pre",function(){return!1});var n={},s=function(e){return _.countBy(e,function(e){return"\n"==e}).true||0},a=null,i=function(){clearTimeout(a),$.post("/admin/unit_test/web_tester",{action:"fetch",updateTimes:JSON.stringify(n)}).success(function(e){_.each(e.informations,function(e){var a=t.find("tr[data-assembly-name='"+e.AssemblyName+"']");a.find(".state").text(e.StateName),a.find(".passed").text(e.Counter.Passed),a.find(".skipped a").text(e.Counter.Skipped),a.find(".failed a").text(e.Counter.Failed),a.find(".skipped pre").text(e.SkippedMessage||""),a.find(".failed pre").text(e.FailedMessage||""),a.find(".error-message a").text(s(e.ErrorMessage)),a.find(".error-message pre").text(e.ErrorMessage||""),a.find(".debug-message a").text(s(e.ErrorMessage)),a.find(".debug-message pre").text(e.DebugMessage||""),n[e.AssemblyName]=e.UpdateTime})}).always(function(){a=setTimeout(i,2e3)})};i(),t.on("click",".reset-all-tests",function(){$.post("/admin/unit_test/web_tester",{action:"reset_all"},function(e){$.handleAjaxResult(e),i()})}),t.on("click",".start-all-tests",function(){$.post("/admin/unit_test/web_tester",{action:"start_all"},function(e){$.handleAjaxResult(e),i()})}),t.on("click",".start-test",function(){var e=$(this).closest("tr").data("assembly-name");$.post("/admin/unit_test/web_tester",{action:"start",assembly:e},function(e){$.handleAjaxResult(e),i()})})});